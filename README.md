# Тестовое задание: Сервер синхронизации времени

В основе задания — разработка минимального законченного проекта, который имеет практический смысл и в котором задействованы все необходимые в реальных проектах компании библиотеки и архитектурные подходы. Однако во многих моментах реализации у вас полная свобода, основное требование - будьте готовыми аргументировать выбор своего решения. 

Задание универсальное и, в отдельных случаях, может быть ограничено использованием конкретного стека - Python/Tornado, PHP или Node.JS (но мы бы с радостью посмотрели на Go/C++ решения)

![](https://raw.githubusercontent.com/trdata/test-timeserver/master/task2.png)

#  Описание

В общем случае, весь проект состоит из трех модулей: 
 1. Сервис точного времени, который получает точное время от эталонного пула серверов по NTP протоколу (можно использовать http://www.pool.ntp.org/ru/) и предоставляет основному приложению интерфейс для получения этого времени. В качестве библиотеки для доступа можно использовать любое доступное решение. 
 2. Основное приложение. Обеспечивает поддержку соединений от всех клиентов. Приложение поддерживает постоянное соединение с каждым из клиентов с помощью библиотеки SockJS и отправляет им точное время в UTC. Дополнительно сервер раздает статический контент, необходимый для загрузки веб-страницы, однако допускается решение этой здачи с помощью отдельного веб-сервера (Nginx, Apache, etc).
 3. Фронт-энд - минимальное веб-приложение с использованием Twitter Bootstrap/jQuery и клиентской версии библиотеки SockJS. Клиент должен устанавливать соединение с сервером и периодически (дефолтный интервал: 1000 мс) опрашивать его, фиксируя сетевую задержку и, после получения ответа, вычислять расхождение в UTC времени между точным серверным временем и локальным временем клиента. Вместе с таймером, это время выводится на странице в виде счетчика (обновление без перезагрузки страницы). 

# Примечания

 - сервис точного времени — это физически отдельное приложение, которое работает в фоновом режиме (постоянно или в качестве периодической задачи Cron). Протокол взаимодействия с основным приложением - в зависимости от конкетно ваших условий (JSON поверх ZeroMQ, Protobuf поверх ZeroMQ, Redis Pub/Sub, WAMP или другой вариант);
 - допускается реализация клиентского JS кода в самом простом варианте, использование минимальной обвязки с Backbone будет плюсом. В качестве дополнительного улучшения: обвертка над "родным" обьектом Date с перегрузкой всех методов на работу с точным временем;
 - в случае затруднений можно реализовать упрощенное тестовое задание, которое не требует дополнительного сервиса точного времени, а подразумевает, что время на сервере корректно;
 - плюсом будет, если вы сможете прокомментировать, как поведет себя это приложение в разных браузерах (IE8+, Chrome, Safari, Opera), а также при большой нагрузке (много клиентов, меньше интервал опроса сервера etc.).
